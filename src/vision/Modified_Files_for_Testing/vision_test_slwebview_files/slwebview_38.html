<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <title>lookForPath_v3_test/Embedded MATLAB Function1</title></head><link rel="StyleSheet" href="slwebview.css" type="text/css"><script type="text/javascript" src="id_mapping.js"></script><script type="text/javascript" src="slwebview.js"></script><script type="text/javascript" src="slwebview_utils.js"></script><script type="text/javascript" src="slhtmltoolbar.js"></script><body onload="addToolbar('toolbarDiv');"><table><tr><td><div id="toolbarDiv" style="display:inline"></div></td><td class="content" style="vertical-align:middle">Embedded
MATLAB Function1</td></tr></table><pre xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd"><span style="color:blue">function</span> [heading_y_deg, heading_z_deg] = Centroid2Heading(centroid_x, centroid_y)
<span style="color:green">%Author: Yama Habib</span>
<span style="color:green">%Revision: 10/27/2010</span>
<span style="color:green">%Centroid2Heading takes a raw matrix centroid coordinate and converts</span>
<span style="color:green">%it into a correction heading, in degrees (i.e. heading_y_deg = -30,</span>
<span style="color:green">%heading_z_deg = 45 means that in order to orient yourself so that the</span>
<span style="color:green">%object in question is centered in the video feed, you need to turn 30</span>
<span style="color:green">%degrees to the left and 45 degrees upwards, assuming the camera is mounted</span>
<span style="color:green">%on the front) The probability that this function will return exactly 0</span>
<span style="color:green">%degrees is laughably low, so applying a reasonable threshold to the</span>
<span style="color:green">%result is strongly recommended.</span>

<span style="color:green">%Should these be parameters? I think they're fine as constants.</span>
WIDTH = 160;
HEIGHT = 120;
MAXANGLE = 130;

heading_y_deg = ((centroid_x-(WIDTH/2)) / (WIDTH/2)) * (MAXANGLE/2);
heading_z_deg = ((centroid_y-(HEIGHT/2)) / (HEIGHT/2)) * (MAXANGLE/2);
<span style="color:blue">end</span>
</pre></body></html>